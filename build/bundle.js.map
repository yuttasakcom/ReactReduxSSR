{"version":3,"sources":["webpack:///webpack/bootstrap 0124c7b6a4fcac26a276","webpack:///external \"react\"","webpack:///external \"react-redux\"","webpack:///external \"react-router-config\"","webpack:///./client/actions/index.js","webpack:///./client/routes/index.js","webpack:///external \"redux\"","webpack:///./server/server.js","webpack:///external \"babel-polyfill\"","webpack:///external \"express\"","webpack:///external \"express-http-proxy\"","webpack:///external \"path\"","webpack:///./server/helpers/renderer.js","webpack:///external \"react-dom/server\"","webpack:///external \"react-router-dom\"","webpack:///external \"serialize-javascript\"","webpack:///./client/pages/HomePage.js","webpack:///./client/components/Action.js","webpack:///./client/components/Options.js","webpack:///./client/components/Option.js","webpack:///./client/components/AddOption.js","webpack:///./client/components/OptionModal.js","webpack:///external \"react-modal\"","webpack:///./client/pages/TodoPage.js","webpack:///./client/App.js","webpack:///./client/components/Header.js","webpack:///./server/helpers/createStore.js","webpack:///external \"redux-thunk\"","webpack:///./client/reducers/index.js","webpack:///./client/reducers/todoReducer.js","webpack:///external \"axios\""],"names":["FETCH_TODOS","fetchTodos","dispatch","getState","api","get","res","type","payload","ADD_TODO","addTodo","option","post","content","DELETE_TODO","deleteTodo","id","delete","routes","path","exact","app","port","process","env","PORT","use","proxyReqOptDecorator","opts","headers","static","req","store","promises","map","route","loadData","Promise","all","then","send","listen","err","console","log","HomePage","state","selectedOption","undefined","handleAddOption","props","todos","indexOf","handlePick","randomNum","Math","floor","random","length","setState","handleDeleteOption","optionToRemove","handleDeleteOptions","mapStateToProps","component","Action","hasOptions","options","count","optionText","e","optionId","AddOption","preventDefault","target","elements","value","trim","error","OptionModal","handleClearSelectedOption","TodoPage","todo","renderTodos","App","Header","axiosInstance","create","baseURL","cookie","withExtraArgument","action","data"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 6);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 0124c7b6a4fcac26a276","module.exports = require(\"react\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react\"\n// module id = 0\n// module chunks = 0","module.exports = require(\"react-redux\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-redux\"\n// module id = 1\n// module chunks = 0","module.exports = require(\"react-router-config\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-router-config\"\n// module id = 2\n// module chunks = 0","export const FETCH_TODOS = 'fetch_todos'\nexport const fetchTodos = () => async (dispatch, getState, api) => {\n  const res = await api.get('/todos')\n  dispatch({\n    type: FETCH_TODOS,\n    payload: res\n  })\n}\n\nexport const ADD_TODO = 'add_todo'\nexport const addTodo = (option) => async (dispatch, getState, api) => {\n  const res = await api.post('/todos/create', {content: option})\n  dispatch({\n    type: ADD_TODO,\n    payload: res\n  })\n}\n\nexport const DELETE_TODO = 'delete_todo'\nexport const deleteTodo = (id) => async (dispatch, getState, api) => {\n  const res = await api.delete(`/todos/${id}`)\n  dispatch({\n    type: DELETE_TODO,\n    payload: res\n  })\n}\n\n\n// WEBPACK FOOTER //\n// ./client/actions/index.js","import React from 'react'\nimport HomePage from '@/pages/HomePage'\nimport TodoPage from '@/pages/TodoPage'\nimport App from '@/App'\n\nexport default [\n  {\n    ...App,\n    routes: [\n      {\n        ...HomePage,\n        path: '/',\n        exact: true\n      },\n      {\n        ...TodoPage,\n        path: '/todos',\n      }\n    ]\n  }\n]\n\n\n// WEBPACK FOOTER //\n// ./client/routes/index.js","module.exports = require(\"redux\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"redux\"\n// module id = 5\n// module chunks = 0","import 'babel-polyfill'\nimport express from 'express'\nimport proxy from 'express-http-proxy'\nimport path from 'path'\nimport renderer from './helpers/renderer'\nimport createStore from './helpers/createStore'\nimport { matchRoutes } from 'react-router-config'\nimport Routes from '@/routes'\n\nconst app = express()\nconst port = process.env.PORT || 8000\n\napp.use('/api',\n  proxy('https://api-todos.herokuapp.com', {\n    proxyReqOptDecorator(opts) {\n      opts.headers['x-forwarded-host'] = `localhost:${port}`\n      return opts\n    }\n  })\n)\n\napp.use(express.static('public'))\napp.get('*', (req, res) => {\n  const store = createStore(req)\n  \n  const promises = matchRoutes(Routes, req.path)\n    .map(({route}) => {\n      return route.loadData ? route.loadData(store) : null\n    })\n\n  Promise.all(promises)\n    .then(() => {\n      res.send(renderer(req, store))\n    })\n})\n\napp.listen(port, err => {\n  if (err) throw err\n\n  console.log(`Server running at port:${port}`)\n})\n\n\n// WEBPACK FOOTER //\n// ./server/server.js","module.exports = require(\"babel-polyfill\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"babel-polyfill\"\n// module id = 7\n// module chunks = 0","module.exports = require(\"express\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"express\"\n// module id = 8\n// module chunks = 0","module.exports = require(\"express-http-proxy\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"express-http-proxy\"\n// module id = 9\n// module chunks = 0","module.exports = require(\"path\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"path\"\n// module id = 10\n// module chunks = 0","import React from 'react'\nimport { renderToString } from 'react-dom/server'\nimport { StaticRouter } from 'react-router-dom'\nimport { Provider } from 'react-redux'\nimport { renderRoutes } from 'react-router-config'\n\nimport serialize from 'serialize-javascript'\nimport Routes from '@/routes'\n\nexport default (req, store) => {\n\n  const content = renderToString(\n    <Provider store={store}>\n      <StaticRouter location={req.path} context={{}}>\n        <div>{ renderRoutes(Routes) }</div>\n      </StaticRouter>\n    </Provider>\n  )\n\n  return `\n    <!DOCTYPE html>\n    <html lang=\"en\">\n    <head>\n      <meta charset=\"UTF-8\">\n      <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n      <meta http-equiv=\"X-UA-Compatible\" content=\"ie=edge\">\n      <title>React Redux SSR</title>\n      <link rel=icon type=image/png href=/statics/img/favicon.png>\n      <link rel=\"stylesheet\" href=\"/styles.css\">\n    </head>\n    <body>\n      <div id=\"root\">${content}</div>\n      <script>\n        window.INITIAL_STATE = ${serialize(store.getState())}\n      </script>\n      <script src=\"bundle.js\"></script>\n    </body>\n    </html>\n  `\n}\n\n\n// WEBPACK FOOTER //\n// ./server/helpers/renderer.js","module.exports = require(\"react-dom/server\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-dom/server\"\n// module id = 12\n// module chunks = 0","module.exports = require(\"react-router-dom\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-router-dom\"\n// module id = 13\n// module chunks = 0","module.exports = require(\"serialize-javascript\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"serialize-javascript\"\n// module id = 14\n// module chunks = 0","import React, { Component, Fragment } from 'react'\nimport { connect } from 'react-redux'\nimport { fetchTodos, addTodo, deleteTodo } from '@/actions'\n\nimport Action from '@/components/Action'\nimport Options from '@/components/Options'\nimport AddOption from '@/components/AddOption'\nimport OptionModal from '@/components/OptionModal'\n\nclass HomePage extends Component\n{\n  state = {\n    selectedOption: undefined\n  }\n\n  handleAddOption = (option) => {\n    if (!option) {\n      return 'Enter valid value to add item'\n    } else if (this.props.todos.indexOf(option) > -1) {\n      return 'This option already exists'\n    }\n\n    this.props.addTodo(option)\n  }\n\n  handlePick = () => {\n    let randomNum = Math.floor(Math.random() * this.props.todos.length)\n    let option = this.props.todos[randomNum]\n    this.setState(() => ({selectedOption: option}))\n  }\n\n  handleDeleteOption = (optionToRemove) => {\n    this.props.deleteTodo(optionToRemove)\n  }\n\n  handleDeleteOptions = () => {\n    console.log('handleDeleteOptions')\n  }\n\n  render() {\n    return (\n      <Fragment>\n      <div className=\"container\">\n        <Action \n          hasOptions={this.props.todos.length > 0}\n          handlePick={this.handlePick}\n        />\n\n        <div className=\"widget\">\n          <Options\n            options={this.props.todos}\n            handleDeleteOption={this.handleDeleteOption}\n            handleDeleteOptions={this.handleDeleteOptions}\n          />\n\n          <AddOption\n            handleAddOption={this.handleAddOption}\n          />\n        </div>\n      </div>\n      </Fragment>\n    )\n  }\n}\n\nconst loadData = store => store.dispatch(fetchTodos())\nconst mapStateToProps = ({todos}) => ({todos})\n\nexport default {\n  loadData,\n  component: connect(mapStateToProps, { addTodo, deleteTodo })(HomePage)\n}\n\n\n// WEBPACK FOOTER //\n// ./client/pages/HomePage.js","import React from 'react'\n\nconst Action = (props) => (\n  <div>\n    <button\n      className=\"big-button\"\n      onClick={props.handlePick}\n      disabled={!props.hasOptions}\n    >What should I do?</button>\n  </div>\n)\n\nexport default Action\n\n\n// WEBPACK FOOTER //\n// ./client/components/Action.js","import React from 'react'\nimport Option from './Option'\n\nexport default (props) => (\n  <div>\n    <div className=\"widget-header\">\n      <h3 className=\"widget-header__title\">Your Options</h3>\n      <button\n        onClick={props.handleDeleteOptions}\n        className=\"button button--link\"\n      >Remove All</button>\n    </div>\n\n    {props.options.length === 0 && <p className=\"widget__message\">Please add an option to get started!</p>}\n    {\n      console.log(props.options)\n    }\n  </div>\n)\n\n\n// WEBPACK FOOTER //\n// ./client/components/Options.js","import React from 'react'\n\nexport default (props) => (\n  <div className=\"option\">\n    <p className=\"option__text\">{props.count}. {props.optionText}</p>\n    <button\n      className=\"button button--link\"\n      onClick={(e) => {\n        props.handleDeleteOption(props.optionId)\n      }}\n    >remove</button>\n  </div>\n)\n\n\n// WEBPACK FOOTER //\n// ./client/components/Option.js","import React, { Component, Fragment } from 'react'\n\nclass AddOption extends Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      error: undefined\n    }\n  }\n\n  handleAddOption = (e) => {\n    e.preventDefault()\n    \n    const option = e.target.elements.option.value.trim()\n    const error = this.props.handleAddOption(option)\n    \n    this.setState(() => ({error}))\n\n    if (!error) {\n      e.target.elements.option.value = ''\n    }\n  }\n  \n  render() {\n    return (\n      <Fragment>\n        {this.state.error && <p className=\"add-option-error\">{this.state.error}</p>}\n        <form className=\"add-option\" onSubmit={this.handleAddOption}>\n          <input className=\"add-option__input\" type=\"text\" name=\"option\" />\n          <button className=\"button\" type=\"submit\">Add Option</button>\n        </form>\n      </Fragment>\n    )\n  }\n}\n\nexport default AddOption\n\n\n// WEBPACK FOOTER //\n// ./client/components/AddOption.js","import React from 'react'\nimport Modal from 'react-modal'\n\nconst OptionModal = (props) => (\n  <div>\n    <Modal\n      isOpen={!!props.selectedOption}\n      onRequestClose={props.handleClearSelectedOption}\n      contentLabel=\"Select Option\"\n      closeTimeoutMS={200}\n      className=\"modal\"\n    >\n      <h3 className=\"modal__title\">Selected Option</h3>\n      {props.selectedOption && <p className=\"modal__body\">{props.selectedOption}</p>}\n      <button className=\"button\" onClick={props.handleClearSelectedOption}>Okay</button>\n    </Modal>\n  </div>\n)\n\nexport default OptionModal\n\n\n// WEBPACK FOOTER //\n// ./client/components/OptionModal.js","module.exports = require(\"react-modal\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-modal\"\n// module id = 21\n// module chunks = 0","import React, { Component, Fragment } from 'react'\nimport { connect } from 'react-redux'\nimport { fetchTodos } from '@/actions'\n\nclass TodoPage extends Component {\n  componentDidMount() {\n    this.props.fetchTodos()\n  }\n\n  renderTodos() {\n    return this.props.todos.map(todo => <li key={todo.id}>{todo.content}</li>)\n  }\n\n  render() {\n    return (\n      <Fragment>\n        <div className=\"container\">\n          Here's a big list of todos:\n          <ul>{this.renderTodos()}</ul>\n        </div>\n      </Fragment>\n    )\n  }\n}\n\nconst loadData = store => store.dispatch(fetchTodos())\n\nconst mapStateToProps = ({todos}) => ({todos})\n\nexport default {\n  loadData,\n  component: connect(mapStateToProps, { fetchTodos })(TodoPage)\n}\n\n\n// WEBPACK FOOTER //\n// ./client/pages/TodoPage.js","import React, { Fragment } from 'react'\nimport { renderRoutes } from 'react-router-config'\n\nimport Header from '@/components/Header'\n\nconst App = ({ route }) => (\n  <Fragment>\n    <Header />\n    { renderRoutes(route.routes) }\n  </Fragment>\n)\n\nexport default {\n  component: App\n}\n\n\n// WEBPACK FOOTER //\n// ./client/App.js","import React, { Fragment } from 'react'\n\nconst Header = (props) => (\n  <div className=\"header\">\n    <div className=\"container\">\n      <h1 className=\"header__title\">React Redux SSR</h1>\n      <h2 className=\"header__subtitle\">Todo App Server-Side Rendering</h2>\n    </div>\n  </div>\n)\n\nexport default Header\n\n\n// WEBPACK FOOTER //\n// ./client/components/Header.js","import { createStore, applyMiddleware } from 'redux'\nimport thunk from 'redux-thunk'\nimport reducers from '@/reducers'\nimport axios from 'axios'\n\nexport default (req) => {\n  const axiosInstance = axios.create({\n    baseURL: 'https://api-todos.herokuapp.com',\n    headers: { cookie: req.get('cookie') || '' }\n  })\n\n  const store = createStore(\n    reducers,\n    {},\n    applyMiddleware(thunk.withExtraArgument(axiosInstance))\n  )\n  \n  return store\n}\n\n\n// WEBPACK FOOTER //\n// ./server/helpers/createStore.js","module.exports = require(\"redux-thunk\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"redux-thunk\"\n// module id = 26\n// module chunks = 0","import { combineReducers } from 'redux'\nimport todoReducer from './todoReducer'\n\nexport default combineReducers({\n  todos: todoReducer\n})\n\n\n// WEBPACK FOOTER //\n// ./client/reducers/index.js","import { FETCH_TODOS, ADD_TODO, DELETE_TODO } from '@/actions'\n\nexport default (state = [], action) => {\n  switch (action.type) {\n    case FETCH_TODOS:\n      return action.payload.data\n    case ADD_TODO:\n      return action.payload.data\n    case DELETE_TODO:\n      return action.payload.data\n    default:\n      return state\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./client/reducers/todoReducer.js","module.exports = require(\"axios\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"axios\"\n// module id = 29\n// module chunks = 0"],"sourceRoot":""}